generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id      String    @id @default(cuid())
  email   String    @unique
  name    String?
  imageUrl   String?
  clerkUserId String    @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  dailyLogs DailyLog[]

  @@index([clerkUserId])
  @@map("user")
}

model DailyLog {
  id               String   @id @default(cuid())
  userId           String
  date             DateTime
  studyHours       Float
  programmingHours Float
  namazCompleted      Int
  quranRead        Boolean
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  user User @relation(fields: [userId], references: [clerkUserId], onDelete: Cascade)

  @@index([date])
  @@unique([userId, date])
  @@map("dailyLog")
}
